<script setup>
const numberedSteps = [
  {
    title: "Account Details",
    icon: "mdi-file-document-outline",
  },
  {
    title: "Personal Info",
    icon: "mdi-account-outline",
  },
  {
    title: "Social Links",
    icon: "mdi-link",
  },
];

const currentStep = ref(0);
const isPasswordVisible = ref(false);
const isCPasswordVisible = ref(false);

const formData = ref({
  username: "",
  email: "",
  password: "",
  c_password: "",
  firstName: "",
  lastName: "",
  country: undefined,
  language: undefined,
  twitter: "",
  facebook: "",
  googlePlus: "",
  linkedIn: "",
});

const onSubmit = () => {
  console.log(formData.value);
};
</script>

<template>
  <VCard>
    <VRow>
      <VCol
        cols="12"
        md="4"
        :class="$vuetify.display.smAndDown ? 'border-b' : 'border-e'"
      >
        <VCardText>
          <!-- ðŸ‘‰ Stepper -->
          <AppStepper
            v-model:current-step="currentStep"
            direction="vertical"
            :items="numberedSteps"
            icon-size="24"
            class="stepper-icon-step-bg"
          />
        </VCardText>
      </VCol>
      <!-- ðŸ‘‰ stepper content -->
      <VCol cols="12" md="8">
        <VCardText>
          <VForm>
            <VWindow v-model="currentStep" class="disable-tab-transition">
              <VWindowItem>
                <VRow>
                  <VCol cols="12">
                    <h6 class="text-sm font-weight-medium">Account Details</h6>
                    <p class="text-xs mb-0">Enter your Account Details</p>
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.username"
                      placeholder="CarterLeonardo"
                      label="Username"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.email"
                      placeholder="carterleonardo@gmail.com"
                      label="Email"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.password"
                      label="Password"
                      placeholder="Enter Password"
                      :type="isPasswordVisible ? 'text' : 'password'"
                      :append-inner-icon="
                        isPasswordVisible
                          ? 'mdi-eye-outline'
                          : 'mdi-eye-off-outline'
                      "
                      @click:append-inner="
                        isPasswordVisible = !isPasswordVisible
                      "
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.c_password"
                      label="Confirm Password"
                      placeholder="Enter Confirm Password"
                      :type="isCPasswordVisible ? 'text' : 'password'"
                      :append-inner-icon="
                        isCPasswordVisible
                          ? 'mdi-eye-outline'
                          : 'mdi-eye-off-outline'
                      "
                      @click:append-inner="
                        isCPasswordVisible = !isCPasswordVisible
                      "
                    />
                  </VCol>
                </VRow>
              </VWindowItem>

              <VWindowItem>
                <VRow>
                  <VCol cols="12">
                    <h6 class="text-sm font-weight-medium">Personal Info</h6>
                    <p class="text-xs mb-0">Setup Information</p>
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.firstName"
                      label="First Name"
                      placeholder="Leonard"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.lastName"
                      label="Last Name"
                      placeholder="Carter"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VSelect
                      v-model="formData.country"
                      label="Country"
                      placeholder="Country"
                      :items="['UK', 'USA', 'Canada', 'Australia', 'Germany']"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VSelect
                      v-model="formData.language"
                      label="Language"
                      placeholder="Language"
                      :items="[
                        'English',
                        'Spanish',
                        'French',
                        'Russian',
                        'German',
                      ]"
                    />
                  </VCol>
                </VRow>
              </VWindowItem>

              <VWindowItem>
                <VRow>
                  <VCol cols="12">
                    <h6 class="text-sm font-weight-medium">Social Links</h6>
                    <p class="text-xs mb-0">Add Social Links</p>
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.twitter"
                      placeholder="https://twitter.com/abc"
                      label="Twitter"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.facebook"
                      placeholder="https://facebook.com/abc"
                      label="Facebook"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.googlePlus"
                      placeholder="https://plus.google.com/abc"
                      label="Google+"
                    />
                  </VCol>

                  <VCol cols="12" md="6">
                    <VTextField
                      v-model="formData.linkedIn"
                      placeholder="https://linkedin.com/abc"
                      label="LinkedIn"
                    />
                  </VCol>
                </VRow>
              </VWindowItem>
            </VWindow>

            <div
              class="d-flex justify-sm-space-between justify-center flex-wrap gap-4 mt-8"
            >
              <VBtn
                :color="currentStep === 0 ? 'secondary' : 'default'"
                variant="outlined"
                :disabled="currentStep === 0"
                @click="currentStep--"
              >
                <VIcon icon="mdi-arrow-left" start class="flip-in-rtl" />
                Previous
              </VBtn>

              <VBtn
                v-if="numberedSteps.length - 1 === currentStep"
                color="primary"
                append-icon="mdi-check"
                @click="onSubmit"
              >
                submit
              </VBtn>

              <VBtn v-else @click="currentStep++">
                Next

                <VIcon icon="mdi-arrow-right" end class="flip-in-rtl" />
              </VBtn>
            </div>
          </VForm>
        </VCardText>
      </VCol>
    </VRow>
  </VCard>
</template>
